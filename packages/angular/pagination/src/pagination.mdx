import {
  Meta,
  Primary,
  Canvas,
  Controls,
  Story,
} from '@storybook/addon-docs/blocks'

import * as PaginationStories from './pagination.stories'

<Meta of={PaginationStories} />

# Pagination

Pagination er en liste med knapper eller lenker som brukes for å navigere mellom ulike sider med innhold, for eksempel søkeresultater eller tabeller.

<Primary />
<Controls />

## Bruk

```ts
import { Button } from '@ks-digital/designsystem-angular/button'
import { Pagination } from '@ks-digital/designsystem-angular/pagination'

<nav ksd-pagination aria-label="Sidenavigering">
  <ul>
    <li>
      <button
        ksd-button
        data-variant="tertiary"
        type="button"
        aria-label="Forrige side"
      >
        Forrige
      </button>
    </li>
    <li>
      <button
        ksd-button
        data-variant="tertiary"
        type="button"
        aria-label="Side 1"
      >
        1
      </button>
    </li>
    <li>
      <button
        ksd-button
        data-variant="primary"
        type="button"
        aria-label="Side 2"
      >
        2
      </button>
    </li>
    <li></li>
    <li>
      <button
        ksd-button
        data-variant="tertiary"
        type="button"
        aria-label="Side 9"
      >
        9
      </button>
    </li>
    <li>
      <button
        ksd-button
        data-variant="tertiary"
        type="button"
        aria-label="Side 10"
      >
        10
      </button>
    </li>
    <li>
      <button
        ksd-button
        data-variant="tertiary"
        type="button"
        aria-label="Neste side"
      >
        Neste
      </button>
    </li>
  </ul>
</nav>
```

## Med Angular Router

Bruk `pagination`-hjelpefunksjonen fra `@digdir/designsystemet-web` sammen med Angular Router for dynamisk paginering:

```ts
import { Component, computed, signal } from '@angular/core'
import { RouterLink } from '@angular/router'
import { Pagination } from '@ks-digital/designsystem-angular/pagination'
import { Button } from '@ks-digital/designsystem-angular/button'
import { pagination } from '@digdir/designsystemet-web'

@Component({
  imports: [Pagination, RouterLink],
  template: `
    <nav ksd-pagination aria-label="Sidenavigering">
      <ol>
        <li>
          <a
            ksd-button
            data-variant="tertiary"
            [routerLink]="['/results']"
            [queryParams]="{ page: pager().prev }"
          >
            Forrige
          </a>
        </li>
        @for (p of pager().pages; track p.key) {
          <li>
            <a
              ksd-button
              [attr.data-variant]="p.current ? 'primary' : 'tertiary'"
              [routerLink]="['/results']"
              [queryParams]="{ page: p.page }"
            >
              {{ p.page || '...' }}
            </a>
          </li>
        }
        <li>
          <a
            ksd-button
            data-variant="tertiary"
            [routerLink]="['/results']"
            [queryParams]="{ page: pager().next }"
          >
            Neste
          </a>
        </li>
      </ol>
    </nav>
  `,
})
export class SearchResultsComponent {
  protected current = signal(5)
  protected total = signal(50)
  protected pager = computed(() =>
    pagination({ current: this.current(), total: this.total(), show: 7 }),
  )
}
```
